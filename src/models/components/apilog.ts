/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import * as z from "zod";

/**
 * `api-log`.
 */
export enum ApiLogType {
    ApiLog = "api-log",
}

/**
 * Details of the log entry, stack trace and endpoint.
 */
export type Details = {
    /**
     * Log's pointer.
     */
    pointer?: string | undefined;
    /**
     * Detailed message on the log entry.
     */
    message?: string | undefined;
    /**
     * Location on where the error happened.
     */
    location?: string | undefined;
    /**
     * Detailed error type that is specified in the log entry.
     */
    type?: string | undefined;
};

/**
 * The JSON response body for the log entry.
 */
export type ResponseBody = {
    /**
     * The error code.
     */
    code?: string | undefined;
    /**
     * The error message.
     */
    message?: string | undefined;
    /**
     * The HTTP error code.
     */
    status?: number | undefined;
    /**
     * Type of the log entry.
     */
    type?: string | undefined;
    /**
     * Details of the log entry, stack trace and endpoint.
     */
    details?: Details | undefined;
};

/**
 * A log of an error that happened in the API call.
 */
export type ApiLog = {
    /**
     * `api-log`.
     */
    type?: ApiLogType | undefined;
    /**
     * The ID of the API log entry.
     */
    id?: string | undefined;
    /**
     * The http request method that generated the log entry.
     */
    requestMethod?: string | undefined;
    /**
     * The http request URL which trigged the error log.
     */
    requestUrl?: string | undefined;
    /**
     * The date and time that the request was received.
     */
    requestReceivedAt?: Date | undefined;
    /**
     * The http request status code.
     */
    responseStatusCode?: number | undefined;
    /**
     * The JSON response body for the log entry.
     */
    responseBody?: ResponseBody | undefined;
    /**
     * date-time of when the response was sent.
     */
    responseSentAt?: Date | undefined;
};

/** @internal */
export const ApiLogType$ = z.nativeEnum(ApiLogType);

/** @internal */
export namespace Details$ {
    export type Inbound = {
        pointer?: string | undefined;
        message?: string | undefined;
        location?: string | undefined;
        type?: string | undefined;
    };

    export const inboundSchema: z.ZodType<Details, z.ZodTypeDef, Inbound> = z
        .object({
            pointer: z.string().optional(),
            message: z.string().optional(),
            location: z.string().optional(),
            type: z.string().optional(),
        })
        .transform((v) => {
            return {
                ...(v.pointer === undefined ? null : { pointer: v.pointer }),
                ...(v.message === undefined ? null : { message: v.message }),
                ...(v.location === undefined ? null : { location: v.location }),
                ...(v.type === undefined ? null : { type: v.type }),
            };
        });

    export type Outbound = {
        pointer?: string | undefined;
        message?: string | undefined;
        location?: string | undefined;
        type?: string | undefined;
    };

    export const outboundSchema: z.ZodType<Outbound, z.ZodTypeDef, Details> = z
        .object({
            pointer: z.string().optional(),
            message: z.string().optional(),
            location: z.string().optional(),
            type: z.string().optional(),
        })
        .transform((v) => {
            return {
                ...(v.pointer === undefined ? null : { pointer: v.pointer }),
                ...(v.message === undefined ? null : { message: v.message }),
                ...(v.location === undefined ? null : { location: v.location }),
                ...(v.type === undefined ? null : { type: v.type }),
            };
        });
}

/** @internal */
export namespace ResponseBody$ {
    export type Inbound = {
        code?: string | undefined;
        message?: string | undefined;
        status?: number | undefined;
        type?: string | undefined;
        details?: Details$.Inbound | undefined;
    };

    export const inboundSchema: z.ZodType<ResponseBody, z.ZodTypeDef, Inbound> = z
        .object({
            code: z.string().optional(),
            message: z.string().optional(),
            status: z.number().optional(),
            type: z.string().optional(),
            details: z.lazy(() => Details$.inboundSchema).optional(),
        })
        .transform((v) => {
            return {
                ...(v.code === undefined ? null : { code: v.code }),
                ...(v.message === undefined ? null : { message: v.message }),
                ...(v.status === undefined ? null : { status: v.status }),
                ...(v.type === undefined ? null : { type: v.type }),
                ...(v.details === undefined ? null : { details: v.details }),
            };
        });

    export type Outbound = {
        code?: string | undefined;
        message?: string | undefined;
        status?: number | undefined;
        type?: string | undefined;
        details?: Details$.Outbound | undefined;
    };

    export const outboundSchema: z.ZodType<Outbound, z.ZodTypeDef, ResponseBody> = z
        .object({
            code: z.string().optional(),
            message: z.string().optional(),
            status: z.number().optional(),
            type: z.string().optional(),
            details: z.lazy(() => Details$.outboundSchema).optional(),
        })
        .transform((v) => {
            return {
                ...(v.code === undefined ? null : { code: v.code }),
                ...(v.message === undefined ? null : { message: v.message }),
                ...(v.status === undefined ? null : { status: v.status }),
                ...(v.type === undefined ? null : { type: v.type }),
                ...(v.details === undefined ? null : { details: v.details }),
            };
        });
}

/** @internal */
export namespace ApiLog$ {
    export type Inbound = {
        type?: ApiLogType | undefined;
        id?: string | undefined;
        request_method?: string | undefined;
        request_url?: string | undefined;
        request_received_at?: string | undefined;
        response_status_code?: number | undefined;
        response_body?: ResponseBody$.Inbound | undefined;
        response_sent_at?: string | undefined;
    };

    export const inboundSchema: z.ZodType<ApiLog, z.ZodTypeDef, Inbound> = z
        .object({
            type: ApiLogType$.optional(),
            id: z.string().optional(),
            request_method: z.string().optional(),
            request_url: z.string().optional(),
            request_received_at: z
                .string()
                .datetime({ offset: true })
                .transform((v) => new Date(v))
                .optional(),
            response_status_code: z.number().optional(),
            response_body: z.lazy(() => ResponseBody$.inboundSchema).optional(),
            response_sent_at: z
                .string()
                .datetime({ offset: true })
                .transform((v) => new Date(v))
                .optional(),
        })
        .transform((v) => {
            return {
                ...(v.type === undefined ? null : { type: v.type }),
                ...(v.id === undefined ? null : { id: v.id }),
                ...(v.request_method === undefined ? null : { requestMethod: v.request_method }),
                ...(v.request_url === undefined ? null : { requestUrl: v.request_url }),
                ...(v.request_received_at === undefined
                    ? null
                    : { requestReceivedAt: v.request_received_at }),
                ...(v.response_status_code === undefined
                    ? null
                    : { responseStatusCode: v.response_status_code }),
                ...(v.response_body === undefined ? null : { responseBody: v.response_body }),
                ...(v.response_sent_at === undefined
                    ? null
                    : { responseSentAt: v.response_sent_at }),
            };
        });

    export type Outbound = {
        type?: ApiLogType | undefined;
        id?: string | undefined;
        request_method?: string | undefined;
        request_url?: string | undefined;
        request_received_at?: string | undefined;
        response_status_code?: number | undefined;
        response_body?: ResponseBody$.Outbound | undefined;
        response_sent_at?: string | undefined;
    };

    export const outboundSchema: z.ZodType<Outbound, z.ZodTypeDef, ApiLog> = z
        .object({
            type: ApiLogType$.optional(),
            id: z.string().optional(),
            requestMethod: z.string().optional(),
            requestUrl: z.string().optional(),
            requestReceivedAt: z
                .date()
                .transform((v) => v.toISOString())
                .optional(),
            responseStatusCode: z.number().optional(),
            responseBody: z.lazy(() => ResponseBody$.outboundSchema).optional(),
            responseSentAt: z
                .date()
                .transform((v) => v.toISOString())
                .optional(),
        })
        .transform((v) => {
            return {
                ...(v.type === undefined ? null : { type: v.type }),
                ...(v.id === undefined ? null : { id: v.id }),
                ...(v.requestMethod === undefined ? null : { request_method: v.requestMethod }),
                ...(v.requestUrl === undefined ? null : { request_url: v.requestUrl }),
                ...(v.requestReceivedAt === undefined
                    ? null
                    : { request_received_at: v.requestReceivedAt }),
                ...(v.responseStatusCode === undefined
                    ? null
                    : { response_status_code: v.responseStatusCode }),
                ...(v.responseBody === undefined ? null : { response_body: v.responseBody }),
                ...(v.responseSentAt === undefined ? null : { response_sent_at: v.responseSentAt }),
            };
        });
}
